{"version":3,"file":"static/js/main.chunk.js","sources":["app/core/AppContext.ts","app/core/index.tsx","app/main/App.tsx","app/main/Header/Header.tsx","app/main/Header/index.ts","app/main/index.ts","app/module1/components/Module1.tsx","app/module1/index.ts","index.tsx","polyfills.js"],"sourcesContent":["import { createContext } from \"react\";\r\n\r\n\r\nconst AppContext = createContext<AppContext.Context>({\r\n  unregister: () => { },\r\n  register: () => () => { }\r\n\r\n})\r\nnamespace AppContext{\r\n  export interface Context {\r\n    unregister<R>(params: R): void;\r\n     register<R>(params: R): () => void }\r\n\r\n}\r\n\r\nexport default AppContext","import React from 'react';\r\n\r\nimport AppContext from '@app/core/AppContext';\r\n\r\nclass Module<R> extends React.Component<{ params: R; children: React.ReactNode }> {\r\n  static contextType = AppContext;\r\n  context!: React.ContextType<typeof AppContext>;\r\n  unregister!: () => void;\r\n\r\n  componentDidMount() {\r\n    this.unregister = this.context.register(this.props.params);\r\n  }\r\n\r\n  componentWillUnmount() { \r\n    this.unregister();\r\n\r\n  }\r\n  render() {\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default Module;\r\n","import React, { Component, lazy } from 'react';\r\nimport { hot } from 'react-hot-loader';\r\n\r\nimport { Header } from './Header';\r\n\r\nconst Module1 = lazy(() => import('@app/module1'));\r\n\r\nimport { Switch, Route } from 'react-router';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass App extends Component<{ x: string }> {\r\n  static defaultProps = { x: 'bla' };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Header />\r\n        <div style={{ color: 'red' }}>hello {this.props.x} !!</div>\r\n        <div>\r\n          <Link to=\"/\">/</Link>\r\n        </div>\r\n        <div>\r\n          <Link to=\"/module1\">module1</Link>\r\n        </div>\r\n        <Switch>\r\n          <Route path=\"/module1\">\r\n            <Module1 prop1={this.props.x} />\r\n          </Route>\r\n        </Switch>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(App);\r\n","import React, { Component } from 'react';\r\n\r\nclass Header extends Component {\r\n\r\n  render() {\r\n    return <header style={{ color: 'black' }}>header!!</header>;\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import Header from './Header';\r\n\r\nexport { Header };\r\n","import App from './App';\r\n\r\nexport { App };\r\n","import React, { Component } from 'react';\r\nimport Module from '@app/core';\r\n\r\n\r\nconst params = {\r\n  module1: {}\r\n}\r\nclass Module1 extends Component<{ prop1: string }> {\r\n  static defaultProps = { prop1: 'hello' };\r\n  render() {\r\n    return <Module params={params}>module1 {this.props.prop1} !</Module>;\r\n  }\r\n}\r\nexport default Module1;\r\n","import Module1 from './components/Module1';\r\n\r\nexport default Module1;\r\n","\r\n\r\nimport React, { Suspense } from 'react';\r\nimport ReactDom from 'react-dom';\r\nimport { App } from '@app/main';\r\nimport AppContext from '@app/core/AppContext';\r\n\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nconst context: AppContext.Context = {\r\n  unregister(params) {\r\n    console.log('unregister', params);\r\n  },\r\n  register(params) {\r\n    console.log('register', params);\r\n    return () => { \r\n      context.unregister(params)\r\n    }\r\n  }\r\n};\r\n\r\nasync function main() {\r\n  const root = document.createElement('div');\r\n  document.body.appendChild(root);\r\n\r\n  ReactDom.render(\r\n    <Suspense fallback={<div>Loading...</div>}>\r\n      <AppContext.Provider value={context}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </AppContext.Provider>\r\n    </Suspense>,\r\n    root\r\n  );\r\n}\r\nimport('./polyfills').then(main)\r\n\r\n","import 'core-js';\r\n"],"mappings":";;;;;;;;;;;;AAAA;AAGA;AACA;AACA;AAEA;AAQA;;;;;;;;;;;;;;;;ACfA;AAEA;AAEA;AAAA;AAAA;;AAgBA;AAXA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AAdA;AAeA;AAAA;AAEA;;;;;;;;;;;;;;;;ACtBA;AACA;AAEA;AAEA;AAEA;AACA;AAEA;AAAA;AAAA;;AAsBA;AAnBA;AACA;AAEA;AACA;;AAAA;AAAA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AAKA;AApBA;AAqBA;AAAA;AAEA;;;;;;;;;;;;;;;;;AClCA;AAEA;AAAA;AAAA;;AAKA;AAHA;AACA;AACA;AACA;AAAA;AAEA;;;;;;;;;;;;;;;;ACTA;AAEA;;;;;;;;;;;;;;;;ACFA;AAEA;;;;;;;;;;;;;;;;ACFA;AACA;AAGA;AACA;AACA;AACA;AAAA;AAAA;;AAKA;AAHA;AACA;;AAAA;AAAA;AACA;AAHA;AAIA;AAAA;AACA;;;;;;;;;;;;;;;;ACbA;AAEA;;;;;;;;;;;;;;;;ACAA;AACA;AACA;AACA;AAEA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;;;;AACA;AACA;AAEA;AAEA;AACA;AACA;;;;AAMA;AACA;;;;;;;;;;;;;;;ACpCA;;;;;;;;;;;;;;;;;;;A","sourceRoot":""}