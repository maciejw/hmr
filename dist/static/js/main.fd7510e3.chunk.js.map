{"version":3,"sources":["app/core/AppContext.ts","app/core/index.tsx","app/main/App.tsx","app/main/Header/Header.tsx","app/main/Header/index.ts","app/main/index.ts","app/module1/components/Module1.tsx","app/module1/index.ts","index.tsx","polyfills.js"],"names":["AppContext","__webpack_require__","createContext","unregister","register","exports","default","react_1","tslib_1","__importDefault","AppContext_1","Module","_super","__extends","prototype","componentDidMount","this","context","props","params","componentWillUnmount","render","children","contextType","Component","__importStar","react_hot_loader_1","Header_1","Module1","lazy","Promise","resolve","then","react_router_1","react_router_dom_1","App","createElement","Fragment","Header","style","color","x","Link","to","Switch","Route","path","prop1","defaultProps","hot","module","App_1","core_1","module1","Module1_1","root","react_dom_1","main_1","console","log","document","body","appendChild","Suspense","fallback","Provider","value","BrowserRouter"],"mappings":"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","file":"static/js/main.fd7510e3.chunk.js","sourcesContent":["import { createContext } from \"react\";\r\n\r\n\r\nconst AppContext = createContext<AppContext.Context>({\r\n  unregister: () => { },\r\n  register: () => () => { }\r\n\r\n})\r\nnamespace AppContext{\r\n  export interface Context {\r\n    unregister<R>(params: R): void;\r\n     register<R>(params: R): () => void }\r\n\r\n}\r\n\r\nexport default AppContext","import React from 'react';\r\n\r\nimport AppContext from '@app/core/AppContext';\r\n\r\nclass Module<R> extends React.Component<{ params: R; children: React.ReactNode }> {\r\n  static contextType = AppContext;\r\n  context!: React.ContextType<typeof AppContext>;\r\n  unregister!: () => void;\r\n\r\n  componentDidMount() {\r\n    this.unregister = this.context.register(this.props.params);\r\n  }\r\n\r\n  componentWillUnmount() { \r\n    this.unregister();\r\n\r\n  }\r\n  render() {\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\nexport default Module;\r\n","import React, { Component, lazy } from 'react';\r\nimport { hot } from 'react-hot-loader';\r\n\r\nimport { Header } from './Header';\r\n\r\nconst Module1 = lazy(() => import('@app/module1'));\r\n\r\nimport { Switch, Route } from 'react-router';\r\nimport { Link } from 'react-router-dom';\r\n\r\nclass App extends Component<{ x: string }> {\r\n  static defaultProps = { x: 'bla' };\r\n\r\n  render() {\r\n    return (\r\n      <>\r\n        <Header />\r\n        <div style={{ color: 'red' }}>hello {this.props.x} !!</div>\r\n        <div>\r\n          <Link to=\"/\">/</Link>\r\n        </div>\r\n        <div>\r\n          <Link to=\"/module1\">module1</Link>\r\n        </div>\r\n        <Switch>\r\n          <Route path=\"/module1\">\r\n            <Module1 prop1={this.props.x} />\r\n          </Route>\r\n        </Switch>\r\n      </>\r\n    );\r\n  }\r\n}\r\n\r\nexport default hot(module)(App);\r\n","import React, { Component } from 'react';\r\n\r\nclass Header extends Component {\r\n\r\n  render() {\r\n    return <header style={{ color: 'black' }}>header!!</header>;\r\n  }\r\n}\r\n\r\nexport default Header;\r\n","import Header from './Header';\r\n\r\nexport { Header };\r\n","import App from './App';\r\n\r\nexport { App };\r\n","import React, { Component } from 'react';\r\nimport Module from '@app/core';\r\n\r\n\r\nconst params = {\r\n  module1: {}\r\n}\r\nclass Module1 extends Component<{ prop1: string }> {\r\n  static defaultProps = { prop1: 'hello' };\r\n  render() {\r\n    return <Module params={params}>module1 {this.props.prop1} !</Module>;\r\n  }\r\n}\r\nexport default Module1;\r\n","import Module1 from './components/Module1';\r\n\r\nexport default Module1;\r\n","\r\n\r\nimport React, { Suspense } from 'react';\r\nimport ReactDom from 'react-dom';\r\nimport { App } from '@app/main';\r\nimport AppContext from '@app/core/AppContext';\r\n\r\nimport { BrowserRouter } from 'react-router-dom';\r\n\r\nconst context: AppContext.Context = {\r\n  unregister(params) {\r\n    console.log('unregister', params);\r\n  },\r\n  register(params) {\r\n    console.log('register', params);\r\n    return () => { \r\n      context.unregister(params)\r\n    }\r\n  }\r\n};\r\n\r\nimport './polyfills'\r\nfunction main() {\r\n  const root = document.createElement('div');\r\n  document.body.appendChild(root);\r\n\r\n  ReactDom.render(\r\n    <Suspense fallback={<div>Loading...</div>}>\r\n      <AppContext.Provider value={context}>\r\n        <BrowserRouter>\r\n          <App />\r\n        </BrowserRouter>\r\n      </AppContext.Provider>\r\n    </Suspense>,\r\n    root\r\n  );\r\n}\r\nmain();\r\n\r\n\r\n","import 'core-js';\r\n"],"sourceRoot":""}